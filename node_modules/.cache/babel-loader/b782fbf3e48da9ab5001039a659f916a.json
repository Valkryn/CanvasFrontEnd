{"ast":null,"code":"var _jsxFileName = \"/Users/calving/Desktop/rails-react-auth-lecture-master/session-auth-client/src/components/Profile.js\";\nimport React from 'react';\n\nclass Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      image: this.props.currentUser.image,\n      bio: this.props.currentUser.bio\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      fetch(\"http://localhost:3000/profile\", {\n        method: \"PATCH\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.state)\n      }).then(r => r.json()).then(updatedUser => {\n        this.props.updateUser(updatedUser);\n      });\n    };\n  }\n\n  render() {\n    const {\n      image,\n      bio\n    } = this.state;\n    const {\n      username\n    } = this.props.currentUser;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }, username, \"'s Profile\"), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    }, \"Profile Image\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"image\",\n      autoComplete: \"off\",\n      value: image,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: image.length ? image : \"https://cdn.iconscout.com/icon/free/png-512/account-profile-avatar-man-circle-round-user-30452.png\",\n      alt: username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }, \"Bio\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"bio\",\n      value: bio,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/calving/Desktop/rails-react-auth-lecture-master/session-auth-client/src/components/Profile.js"],"names":["React","Profile","Component","state","image","props","currentUser","bio","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","fetch","method","credentials","headers","body","JSON","stringify","then","r","json","updatedUser","updateUser","render","username","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAN,SAAsBD,KAAK,CAACE,SAA5B,CAAsC;AAAA;AAAA;AAAA,SACpCC,KADoC,GAC5B;AACNC,MAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWC,WAAX,CAAuBF,KADxB;AAENG,MAAAA,GAAG,EAAE,KAAKF,KAAL,CAAWC,WAAX,CAAuBC;AAFtB,KAD4B;;AAAA,SAMpCC,YANoC,GAMrBC,CAAC,IAAI;AAClB,WAAKC,QAAL,CAAc;AAAE,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AAA5B,OAAd;AACD,KARmC;;AAAA,SAUpCC,YAVoC,GAUrBL,CAAC,IAAI;AAClBA,MAAAA,CAAC,CAACM,cAAF;AACAC,MAAAA,KAAK,CAAC,+BAAD,EAAkC;AACrCC,QAAAA,MAAM,EAAE,OAD6B;AAErCC,QAAAA,WAAW,EAAE,SAFwB;AAGrCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAH4B;AAMrCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKnB,KAApB;AAN+B,OAAlC,CAAL,CAQGoB,IARH,CAQQC,CAAC,IAAIA,CAAC,CAACC,IAAF,EARb,EASGF,IATH,CASQG,WAAW,IAAI;AACnB,aAAKrB,KAAL,CAAWsB,UAAX,CAAsBD,WAAtB;AACD,OAXH;AAYD,KAxBmC;AAAA;;AA0BpCE,EAAAA,MAAM,GAAG;AACP,UAAM;AAAExB,MAAAA,KAAF;AAASG,MAAAA;AAAT,QAAiB,KAAKJ,KAA5B;AACA,UAAM;AAAE0B,MAAAA;AAAF,QAAe,KAAKxB,KAAL,CAAWC,WAAhC;AAEA,wBACE;AAAM,MAAA,QAAQ,EAAE,KAAKQ,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKe,QAAL,eADF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHF,eAIE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,YAAY,EAAC,KAHf;AAIE,MAAA,KAAK,EAAEzB,KAJT;AAKE,MAAA,QAAQ,EAAE,KAAKI,YALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,eAWE;AAAK,MAAA,GAAG,EAAEJ,KAAK,CAAC0B,MAAN,GAAe1B,KAAf,GAAuB,oGAAjC;AAAuI,MAAA,GAAG,EAAEyB,QAA5I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAbF,eAcE;AACE,MAAA,IAAI,EAAC,KADP;AAEE,MAAA,KAAK,EAAEtB,GAFT;AAGE,MAAA,QAAQ,EAAE,KAAKC,YAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,eAoBE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBF,CADF;AAwBD;;AAtDmC;;AAyDtC,eAAeP,OAAf","sourcesContent":["import React from 'react'\n\nclass Profile extends React.Component {\n  state = {\n    image: this.props.currentUser.image,\n    bio: this.props.currentUser.bio\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    fetch(\"http://localhost:3000/profile\", {\n      method: \"PATCH\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(this.state)\n    })\n      .then(r => r.json())\n      .then(updatedUser => {\n        this.props.updateUser(updatedUser)\n      })\n  }\n\n  render() {\n    const { image, bio } = this.state\n    const { username } = this.props.currentUser\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <h1>{username}'s Profile</h1>\n\n        <label>Profile Image</label>\n        <input\n          type=\"text\"\n          name=\"image\"\n          autoComplete=\"off\"\n          value={image}\n          onChange={this.handleChange}\n        />\n        <img src={image.length ? image : \"https://cdn.iconscout.com/icon/free/png-512/account-profile-avatar-man-circle-round-user-30452.png\"} alt={username} />\n\n        <label>Bio</label>\n        <textarea\n          name=\"bio\"\n          value={bio}\n          onChange={this.handleChange}\n        />\n\n        <input type=\"submit\" value=\"Update\" />\n      </form>\n    )\n  }\n}\n\nexport default Profile\n"]},"metadata":{},"sourceType":"module"}